## Домашнее задание 3: базы данных

**Дедлайн: 211, 212 TBD, 213 -- 22 ноября 23:59**

### Данные

База данных фильмов IMDB ([imdb_small_indexed.db](https://disk.yandex.ru/d/GOxdLhob7et7Hw?w=1))

### Задание

Примечания:
- год фильма по умолчанию = год начала

#### Задание на 6 баллов

**Составьте запросы**

Нужно просто составить запросы и вставить их в тетрадку в маркдаун

1. С помощью запроса выберите фильмы ранее 2018 года 
2. 50 самых популярных фильмов (по кол-ву оценок)
3. 10 самых популярных (по кол-ву оценок и с рейтингом >= 7) комедий 2019 года
4. С помощью запроса выберите год выхода и название фильмов с кем-то из ваших любимых актеров
5. Выберите жанр и посчитайте кол-во фильмов по годам
6. Найдите актеров-долгожителей
    - топ-10 по возрасту
    - список тех, кто дожил до 100 лет и более

Поработайте с базой данных и самими данными в питоне (можно считывать результат запроса через курсор или через пандас)

7. Посчитайте распределение оценок (округленных до ближайшего целого) для комедий и для документальных фильмов, постройте график для сравнения
8. Сохраните результат пункта 6 в базе в новой таблице

#### Задание на 8 баллов

Cтарайтесь максимально решить задачу в запросе, а не внешними инструментами

Посмотрите, какое среднее распредление долей мужчин и женщин в фильмах разных лет по жанрам
  - посчитайте долю женщин среди участников фильмов жанра определенного года
  - сделайте pivot_table по жанрам и годам
  - изучите, какие есть закономерности и опишите их
  - проиллюстрируйте с помощью графика 2-3 наиболее примечательных жанра
  - можно ли сделать какие-то выводы об изменениях в индустрии?

#### Задание на 10 баллов

Представьте, что мы создаем сайт про кино и хотим хранить данные пользователей и их оценки. 

1. С какими объектами мы работаем? Какие таблицы нужно добавить в базу? Какие параметры нужно хранить?
2. Как эти таблицы связаны между собой и с таблицами, уже имеющимися в базе?
3. Нарисуйте схему и прокомментируйте (схему можно положить картинкой в репозиторий или вставить в тетрадку).
4. Какие данные нужно будет часто доставать или соединять? Какие индексы в базе хорошо было бы создать, чтобы ползователю было комфортно и быстро получать статистику или какую-то иную информацию. (Представьте, например, свои действия при работе с КиноПоиском или IMDB).
5. Каких данных (с сайта или просто придумать свои) не хватает в базе?

Для рисования есть разные онлайн-инструменты или приложения (например, https://app.diagrams.net/), но можно и на бумажке.

211

212

[213](https://classroom.github.com/a/K6BMz8V9)
