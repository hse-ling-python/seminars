# Домашнее задание 4: Краулеры + SQL

Дедлайн: **05.12.2024 23:59**

Жёсткий дедлайн (половина оценки): **12.12.2024 23:59**


## План работы
1. Обкачать данные с заданных страниц (4 балла)
2. Спроектировать структуру базы данных и сделать схему (1 балл)
3. Сохранить в базу данных информацию с сайта  (3 балла)
4. Сделать запросы к базе данных (2 балла)


## Детали задания

Мы будем работать с сайтом https://www.olympedia.org/, хранящим разнообразные данные об Олимпийских играх, их спортсменах, видах спорта, участвующих странах и т.д.

Вам необходимо обкачать информацию согласно вашему варианту (см. [ведомость](https://docs.google.com/spreadsheets/d/1vEeeEqlo6zL89xeCqFE79ZjHXKkGu4dTXbggM7yqnUA/edit?usp=sharing)) и придумать, какая структура базы данных подойдёт для их хранения:

#### Вариант 1:
1. Скачать данные [таблицы с видами соревнований](https://www.olympedia.org/sports), а также информацию о дисциплине по ссылке в таблице (например, [ссылка из первой строчки](https://www.olympedia.org/sports/IH3)): количество участников, количество участвовавших стран (NOCs), описание.
2. С помощью [расширенного поиска](https://www.olympedia.org/athletes/advanced_search) собрать информацию о спортсменах-женщинах, которые участвовали в зимних олимпийских играх и выигрывали какие-либо медали: id, имя, вид(ы) спорта, год начала/конца выступлений (только из поисковой выдачи, заходить на страничку спортсменки не надо).

#### Вариант 2:
1. Скачать данные [таблицы со странами-участницами](https://www.olympedia.org/countries), а также информацию о стране по ссылке в таблице (например, [ссылка из первой строчки](https://www.olympedia.org/countries/AFG)): количество участников, количество флагоносцев, описание.
2. С помощью [расширенного поиска](https://www.olympedia.org/athletes/advanced_search) собрать информацию о спортсменах-мужчинах, которые участвовали в летних олимпийских играх вне медального зачета: id, имя, страна(ы), год начала/конца выступлений (только из поисковой выдачи, заходить на страничку спортсмена не надо).

**Поисковый запрос можно задавать руками!** Ваша задача корректно задать фильтры и циклом пройти по всем страницам поисковой выдачи.

### База данных
Полученные в прошлом пункте данные необходимо **с помощью питона** сохранить в базу данных. Структуру вы придумываете сами, однако для оценивания на полный балл в вашей базе должно быть не менее 3 таблиц, связанных между собой (может понадобиться и больше); в каждой из них должны быть разумный первичный ключ и корректный тип данных, понятные названия столбцов и т.д.

Схему вашей базы визуализируйте с помощью любого удобного вам инструмента: есть специальные сайты и приложения (например, https://app.diagrams.net/), но можно хоть на листочке. Главное, подпишите, пожалуйста, названия всех таблиц и столбцов. Также кратко опишите структуру текстом в тетрадке с кодом.

### Запрос

#### Вариант 1:
1. Отфильтруйте спортcменок, участвовавших позже 2000 года
2. Выведите таблицу с количеством спортсменок, участвовавших в каждом виде спорта, отсортированную по убыванию. Распечатайте 5 первых строчек.

#### Вариант 2:
1. Отфильтруйте спортсменов, участвовавших более 5 лет (от начала до конца выступлений, не по количеству игр)
2. Выведите таблицу с минимальным годом начала для каждой страны-участницы, отсортированную по возрастанию. Распечайте 10 первых строчек.

Обратите внимание, что в вашей поисковой выдаче могут встретиться не все виды спорта/не все страны. Если для каких-то видов спорта/стран наблюдений в поисковой выдаче не было, выводить 0 не обязательно.


**Чек-лист**: что должно лежать в репозитории

1. Тетрадка с кодом
2. db-файл с базой данных
3. Схема базы (в любом картиночном формате)


**Ссылки на GiHub Classroom: TBA**

<!---
<table>
    <tr><td>Группа 231</td><td><a href="">Ссылка</a></td></tr>
    <tr><td>Группа 232</td><td><a href="">Ссылка</a></td></td></tr>
    <tr><td>Группа 233</td><td><a href="">Ссылка</a></td></td></tr>       
</table>
-->

