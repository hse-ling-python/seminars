## Домашнее задание 3

### **Тема: Базы данных и Flask**

#### **Дедлайн**: 19.12 23:59

**Важное**: после дедлайна работы не принимаются.

#### **Задание**
1. Cделать базу данных по результатам крулинга в ДЗ2[^1].
2. Сверстать простой сайт с возможностью добавления новой информации в базу данных и статистикой по ней.

**Пункты**:
1. Создать базу данных по результатам вашего краулинга в ДЗ2.
    1. Дизайн базы должен быть продуман и состоять из нескольких таблиц. Например, может быть (но не обязательно) подобное строение из пяти таблиц:
        - таблица с ID статьи + заголовком + текстом;
        - таблица с ID статьи + ID автора + датой;
        - таблица с ID автора + именем автора;
        - таблица с ID статьи + ID тега / категории
        - таблица с ID тега / категории + названием тега / категории
    2. Таблицы и их связи описаны через классы при помощи Flask-SQLAlchemy как [здесь](https://github.com/hse-ling-python/imdb-site-example/blob/main/models.py) (в идеале, в виде отдельного PY-файла).
    3. Данные, добавленные человеком на сайте через анкету, сохраняются в базу как [тут](https://github.com/hse-ling-python/seminars/blob/master/flask_applications/flask_db_queries_2024.ipynb), и это делается через описанные классы. При этом выполняется проверка на отсутствие дубликатов и соблюдается последовательная индексация.
2. Создать простое Flask-приложение.
    - Главная страница с описанием вашей базы данных и приложения.
    - Страница со статистикой (см. п.3).
    - Страница с анкетой для добавления информации в вашу базу данных.
        - Пользователь может внести свою новость в базу данных.
        - Для этого есть форма, собирающая информацию по новость (дату, автора, теги / категории, заголовок, текст).
    - Верхнее меню с возможностью перемещения между страницами.
    - Используются шаблоны, типа `base.html` [здесь](https://github.com/hse-ling-python/imdb-site-example/blob/main/templates/base.html), как основа страницы, а другие содержат заполнение блоков ([пример](https://github.com/hse-ling-python/imdb-site-example/blob/main/templates/person.html)).
    - Используются Bootstrap[^3] и CSS.
3. Добавить на страницу статистики (все запросы выполнять через SQL!):
    - мин. 3 разных статистики по метаданным (например, авторы / дата с наибольшим количеством статей; суммарное количество статей в базе);
    - мин. 2 разных статистики по тегам / категориям[^2] (например, топ-5 самых частотных тегов / категорий).
4. Выложить свое приложение на PythonAnywhere и дать ссылку на него в `README.md`.
5. Нарисовать схему вашей базы данных, аналогичную той, что была по IMDB (см. [тетрадку](https://github.com/hse-ling-python/seminars/blob/master/databases/databases_1_2024.ipynb)), и добавить ее на главную страницу. Отрисовать можно при помощи [draw.io](https://www.drawio.com/) или любого другого аналогичного сайта.

#### Чек-лист
1. Тетрадка в формате IPYNB с кодом **и_ли** PY-файлы с приложением, моделями и т.д.
2. Получившаяся база данных с расширением `.db` (она должна открываться, быть заполненной и быть минимум несколько МБ!).
3. Папка `templates` с минимум четырьмя шаблонами HTML страниц (`base.html` + по одной на страницу) и, при надобности, папка `static`.

#### Критерии оценки
Программа должна запускаться и быть оформлена по PEP-8.
<table>
    <tr><th>Макс. балл</th><th>Критерий</th></tr>
    <tr><td>1</td><td>пункт 1.i</td></tr>    
    <tr><td>1</td><td>пункт 1.ii</td></tr> 
    <tr><td>2</td><td>пункт 1.iii</td></tr> 
    <tr><td>2</td><td>пункт 2</td></tr> 
    <tr><td>2</td><td>пункт 3</td></tr>
    <tr><td>1</td><td>пункт 4</td></tr> 
    <tr><td>1</td><td>пункт 5</td></tr>
</table>

**Ссылки на GiHub Classroom:**

<table>
    <tr><td>Группа 1</td><td><a href="">ссылка</a></td></tr>
    <tr><td>Группа 2</td><td><a href="">ссылка</a></td></tr>
    <tr><td>Группа 3</td><td><a href="">ссылка</a></td></tr>       
</table>

[^1]: Если каким-то образом вышло, что вы не сделали второе домашнее задание даже на уровне краулинга, но очень хотите сделать это, то напишите кому-то из преподавателей в личные сообщения. Мы что-нибудь придумаем, если вы предложите какой-нибудь датасет, на котором вы хотите выполнить аналогичное задание! 
[^2]: Если каким-то образом вышло, что у вас нет категорий / тегов на вашем сайте, то в вашей базе данных вместо них должны оказаться ключевые слова для каждой статьи.
[^3]: Можно (и стоит) использовать готовые кусочки HTML-кода с сайта Bootstrap, например для [меню](https://getbootstrap.com/docs/4.5/components/navbar/), просто меняя там ваш текст.

