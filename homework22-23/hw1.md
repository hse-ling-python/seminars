## Домашнее задание 1.

**Тема: Морфология**

**Дедлайн: 221: вторник 10.10.23 23:59; 222: суббота 12.10.23 23:59; 223: вторник 13.10.23 23:59**

**Важное: работы принимаются строго в ipynb (не скрипт, не скрипт в ячейке ipynb), после дедлайна работы не принимаются**

**Данные**

Каждый выберет себе свою книгу, которая есть в (условно) открытом доступе на [http://lib.ru/](http://lib.ru/) - это и следующее задания будут на материале выбранного текста. Давайте брать не рассказы, а большое произведение (книга) - так будет интереснее.

**Задание**

Обработать текст книги с помощью морфологического анализатора, сделать поверхностный анализ.

Пункты:

1. Выбрать и сохранить книгу в .txt. Проследите, что кодировка UTF-8
2. Обработать книгу с помощью mystem:
    
    - лемматизировать с помощью mystem
    - сохранить результат в файл
    - не на оценку, опционально: замерить время работы на примере небольшого кусочка текста (например, глава) (как замерить время см. ниже)
      
3. Обработать книгу через pymorphy
    
    - токенизировать текст с помощью nltk (см. конспект)
    - разобрать слова с помощью pymorphy
    - сохраните результат в jsonlines: каждая строчка - это разбор слова в виде словаря ```{"lemma": "конь", "word": "коня", "pos": "NOUN"}```
    - не на оценку, опционально: замерить время работы (как с майстемом)

4. Ответить на вопросы:
    
    - Какую долю слов составляет каждая часть речи? (Например, для глагола - это количество глаголов, деленное на общее число слов в тексте)
    - Найдите топ-20 (по частотности) глаголов и наречий
    - (стоп слова можно убирать, можно и не убирать)

5. Посмотрите документацию для nltk н-грамм (nltk.bigrams, например), попробуйте составить топ-25 биграмм и триграмм для вашего текста в лемматизированном виде (только леммы, без знаков препинания). Почему получаются именно такие?

6. Возьмите абзац из изначального текста (3 - 8 предложений), замените в нём время всех глаголов (например, прошедшее на настоящее или будущее), число всех существительных (единственное на множественное, множественное на единственное), сделайте согласование по числу глаголов и существительных. Например, вместо изначального *Слон подарил мартышке цветы* должно получиться *Слоны подарят мартышкам цветок*.

**Что должно быть при сдаче?**

1. Тетрадка с кодом и ответами на вопросы
2. Текст книги
3. файл c результатом работы майстема
4. JSON с результатом работы пайморфи

**Подсказка №1**. Используйте ``%%timeit`` или ``%%time`` для замеров времени (**в этот раз именно time**). Для этого в начале ячейки, где находится то, что вы хотите замерить, напишите ``%%time``. Например:

```python
%%time

analysis = m.analyze('Вот так можно замерить время')
```

**Подсказка №2**. Сохранить в JSON - это подготовить объект питоновский (список словарей или что-то подобное), положить в переменную, а ее отправить в json.dump вместе с файлом, куда вы это сохраните (именно dump, а не dumps). Подробнее см. конспект по JSON.

**Подсказка №3**. Если у вас не импортируется nltk, попробуйте установить заново, рестартнуть тетрадку, если не работает, то спросите в чате.

**Подсказка №4.1 не работает майстем**. Если у вас создается объект ```Mystem()```, но ячейка "зависает", то:

1. запустите разбор на одном предложении в тетрадке
2. запустите майстем через консоль

Если все ок, то попробуйте еще раз и подождите (может быть, минут 15, если после этого нет результата, то лучше написать нам)

**Подсказка №4.2: совсем не работает майстем**. Если у вас не работает майстем (невозможно сделать m = Mystem()).

Попробуйте сделать так:

```python
import platform
print(platform.architecture())

import sys
print(sys.platform)
```

Если это покажет что-то похожее на windows и 32, то у вас 32-битная версия системы и последняя (дефолтная версия) у вас не будет работать. Попробуйте скачать с сайта версию 3.0, где написано 32 и запустить код еще раз. Если и это не работает, то так (путь - это где лежит exe-файл майстема):

```python
import os
os.environ["MYSTEM_BIN"] = "D:\\mystem.exe"

m = Mystem()
```
или так
```python
m = Mystem(mystem_bin="D:\\mystem.exe")
```


Если у вас есть вопросы, задавайте в чате или пишите преподавателям

### Критерии оценки
 
Является обязательным оформление домашней работы в jupyter notebook с комментариями и по PEP-8
 
<table>
    <tr><th>Балл</th><th>Критерий</th></tr>
    <tr><td>2</td><td>пункт 2 (с комментарием)</td></tr>    
    <tr><td>3</td><td>пункт 3 (с комментарием)</td></tr> 
    <tr><td>2</td><td>пункт 4 (с комментарием)</td></tr> 
    <tr><td>1</td><td>пункт 5 (с комментарием)</td></tr> 
    <tr><td>2</td><td>пункт 6 (с комментарием)</td></tr> 
</table>

**Ссылки на GiHub Classroom:**

<table>
    <tr><td>Группа 1</td><td><a href="https://classroom.github.com/a/s7zU2i-9">ссылка</a></td></tr>
    <tr><td>Группа 2</td><td><a href="">TBA/td></td></tr>
    <tr><td>Группа 3</td><td><a href="">TBA</a></td></td></tr>       
</table>
